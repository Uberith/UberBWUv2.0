package com.uberith.api.game.inventory

import com.uberith.api.SuspendableScript
import com.uberith.api.game.query.ComponentQuery
import com.uberith.api.game.query.InventoryItemQuery
import com.uberith.api.game.query.SceneObjectQuery
import net.botwithus.rs3.interfaces.Component
import net.botwithus.rs3.inventories.Inventory
import net.botwithus.rs3.inventories.InventoryManager
import net.botwithus.rs3.item.InventoryItem
import net.botwithus.rs3.item.Item
import net.botwithus.rs3.minimenu.Action
import net.botwithus.rs3.minimenu.MiniMenu
import net.botwithus.rs3.vars.VarDomain
import net.botwithus.rs3.world.Distance
import net.botwithus.util.Rand
import net.botwithus.xapi.query.NpcQuery
import net.botwithus.xapi.query.result.ResultSet
import net.botwithus.xapi.script.permissive.base.PermissiveScript
import org.slf4j.Logger
import org.slf4j.LoggerFactory
import java.util.*
import java.util.function.BiFunction
import java.util.regex.Pattern
import java.util.stream.Collectors

object Bank {
    private const val PRESET_BROWSING_VARBIT_ID = 49662
    private const val SELECTED_OPTIONS_TAB_VARBIT_ID = 45191
    private const val WITHDRAW_TYPE_VARBIT_ID = 45189
    private const val WITHDRAW_X_VARP_ID = 111

    private val BANK_NAME_PATTERN: Pattern = Pattern.compile("^(?!.*deposit).*(bank|counter).*$", Pattern.CASE_INSENSITIVE)
    private const val LAST_PRESET_OPTION = "Load Last Preset from"
    private const val INVENTORY_ID = 95
